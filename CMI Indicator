//@version=4
study(title="CMI", shorttitle="CMI Indicator", format=format.price, precision=2, resolution="")
length1 = input( 14 )
price = close
length = input(20, minval=1)
ad = close==high and close==low or high==low ? 0 : ((close-open)/(high-low))*volume
mf = sum(ad, length) / sum(volume, length)
vrsi = rsi(price, length1)
crsi=vrsi/500
crsis=mf-crsi+0.1
plot(crsis, color=#43A047, title="MI")
hline(0, color=#787B86, title="Zero", linestyle=hline.style_dashed)
